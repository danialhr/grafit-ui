source:
  repository: https://github.com/shadcn-ui/ui
  component: chart
  sourcePath: apps/v4/registry/new-york-v4/ui/chart.tsx
  commit: 7ee929ac
  version: null
  lastChecked: 2025-02-07
  lastSynced: 2025-02-07

flutter:
  path: lib/src/components/data-display/chart.dart
  classes:
    - GrafitChart
    - GrafitChartContainer
    - GrafitChartTooltip
    - GrafitChartTooltipContent
    - GrafitChartLegend
    - GrafitChartSeries
    - GrafitChartConfig
    - GrafitChartLine
    - GrafitChartBar
    - GrafitChartArea
    - GrafitChartPie
    - GrafitChartDonut
    - GrafitChartSparkline
    - GrafitChartCard
    - GrafitChartTrendIndicator
    - GrafitChartStackedBar
    - GrafitChartGroupedBar
    - GrafitChartCombo
  status: implemented

parity:
  target: 100
  current: 100
  gap: []

mapping:
  props:
    data: data (List<Map<String, dynamic>>)
    type: type (GrafitChartType: line, area, bar, pie, scatter, donut, radialBar, stackedBar, stackedArea, groupedBar, combo, sparkline)
    xKey: x-axis data key
    yKeys: y-axis data key(s)
    y2Key: Secondary y-axis key (planned)
    colorKey: color mapping key
    series: series configuration
    title: Chart title
    showLegend: showLegend boolean
    legendPosition: legendPosition (GrafitChartLegendPosition)
    showTooltip: showTooltip boolean
    tooltipIndicator: tooltipIndicator (dot, line, dashed)
    height: height in pixels
    animationDuration: animationDuration
    theme: custom theme override
    onTap: onTap callback
    customTooltipBuilder: customTooltipBuilder function
    strokeWidth: strokeWidth for lines
    fillArea: fillArea for line/area charts
    barWidth: barWidth for bar charts
    pointSize: pointSize for scatter/points
    showGrid: showGrid boolean
    primaryColor: primaryColor override
    yAxisPosition: yAxisPosition (left, right, both)
    showDataLabels: showDataLabels boolean
    dataLabelFormatter: dataLabelFormatter function
    innerRadius: innerRadius for donut/radial charts
    stackMode: stackMode (stack, overlay, percent)
    secondaryChartType: secondaryChartType for combo charts
    minimal: minimal mode for sparklines
    animationCurve: animationCurve
    animate: animate on first build

  components:
    ChartContainer: GrafitChartContainer
    ChartTooltip: GrafitChartTooltip
    ChartTooltipContent: GrafitChartTooltipContent (NEW)
    ChartLegend: GrafitChartLegend
    ChartConfig: GrafitChartConfig (adapted)
    ChartLine: GrafitChartLine
    ChartBar: GrafitChartBar
    ChartArea: GrafitChartArea
    ChartPie: GrafitChartPie
    ChartDonut: GrafitChartDonut (NEW)
    ChartSparkline: GrafitChartSparkline (NEW)
    ChartCard: GrafitChartCard (NEW)
    ChartTrendIndicator: GrafitChartTrendIndicator (NEW)
    ChartStackedBar: GrafitChartStackedBar (NEW)
    ChartGroupedBar: GrafitChartGroupedBar (NEW)
    ChartCombo: GrafitChartCombo (NEW)

  chartTypes:
    line: GrafitChartType.line (via Cristalyse LineGeometry + PointGeometry)
    area: GrafitChartType.area (via Cristalyse AreaGeometry)
    bar: GrafitChartType.bar (via Cristalyse BarGeometry)
    pie: GrafitChartType.pie (via Cristalyse geomPie)
    scatter: GrafitChartType.scatter (via Cristalyse PointGeometry)
    donut: GrafitChartType.donut (via Cristalyse geomPie with innerRadius)
    radialBar: GrafitChartType.radialBar (gauge-style donut chart)
    stackedBar: GrafitChartType.stackedBar (stacked BarGeometry)
    stackedArea: GrafitChartType.stackedArea (stacked AreaGeometry)
    groupedBar: GrafitChartType.groupedBar (grouped BarGeometry)
    combo: GrafitChartType.combo (combined bar + line)
    sparkline: GrafitChartType.sparkline (minimal line chart without axes)

  legendPositions:
    top: GrafitChartLegendPosition.top
    bottom: GrafitChartLegendPosition.bottom
    left: GrafitChartLegendPosition.left
    right: GrafitChartLegendPosition.right
    topLeft: GrafitChartLegendPosition.topLeft
    topRight: GrafitChartLegendPosition.topRight
    bottomLeft: GrafitChartLegendPosition.bottomLeft
    bottomRight: GrafitChartLegendPosition.bottomRight

  tooltipIndicators:
    dot: GrafitChartTooltipIndicator.dot
    line: GrafitChartTooltipIndicator.line
    dashed: GrafitChartTooltipIndicator.dashed

unimplemented: []

adaptations:
  - "Uses Cristalyse package instead of Recharts for rendering"
  - "Grammar of graphics API matching Cristalyse's layer-based approach"
  - "GrafitTheme integration via GrafitColorScheme"
  - "Declarative API with builder-style configuration"
  - "60fps animations via Cristalyse's animated chart widget"
  - "Pre-built widgets (GrafitChartLine, GrafitChartBar, etc.) for common use cases"
  - "Custom tooltip builder for full customization"
  - "Aspect ratio-based responsive sizing"
  - "Multi-series chart support"
  - "Theme color integration with automatic series color generation"
  - "Shadcn-ui style color palettes (shadcnDefaultPalette, shadcnMutedPalette, shadcnVibrantPalette)"
  - "Card-style containers via GrafitChartCard"
  - "Trend indicators via GrafitChartTrendIndicator"
  - "Sparkline mini charts via GrafitChartSparkline"
  - "Donut and radial bar chart variants"
  - "Stacked and grouped bar charts"
  - "Combo charts for mixed chart types"
  - "ChartTooltipContent for styled tooltips matching shadcn-ui design"

cristalyseFeatures:
  - "PointLayer for scatter plots"
  - "LineLayer for line charts"
  - "AreaLayer for area charts"
  - "BarLayer for bar charts"
  - "Position and scale mappings (scaleXOrdinal, scaleYContinuous)"
  - "Axis layers with grid support"
  - "Interactive legend with toggle support"
  - "Tooltip overlay with animation"
  - "Chart theme customization"
  - "Dual Y-axis support (exposed via y2Key prop)"

notes: |
  The chart component is built on top of Cristalyse, a high-performance Flutter charting library
  that implements the grammar of graphics approach. This provides:

  1. **Performance**: 60fps animations with native Flutter rendering
  2. **Flexibility**: Layer-based composition for complex visualizations
  3. **Interactivity**: Built-in tooltip and legend support
  4. **Theming**: Deep integration with GrafitTheme for consistent styling
  5. **Declarative API**: Builder-style API matching shadcn-ui patterns

  Key differences from shadcn-ui/ui:
  - No CSS classes (uses Flutter theming)
  - Cristalyse instead of Recharts
  - Type-safe enum-based configuration
  - Built-in animation support
  - Platform-specific rendering optimizations

  Example usage:
  ```dart
  GrafitChart(
    data: [
      {'month': 'Jan', 'revenue': 4500, 'expenses': 3200},
      {'month': 'Feb', 'revenue': 5200, 'expenses': 3800},
    ],
    type: GrafitChartType.line,
    xKey: 'month',
    yKeys: ['revenue', 'expenses'],
    series: [
      GrafitChartSeries(key: 'revenue', label: 'Revenue'),
      GrafitChartSeries(key: 'expenses', label: 'Expenses'),
    ],
  )
  ```
